<div class="dashboard-header">
    <h1>Dashboard</h1>
    <p class="text-secondary">Overview of your tasks</p>
</div>

<div class="stats-grid" *ngIf="stats$() as stats; else loading">
    <!-- Status Cards -->
    <div class="card stat-card">
        <h3>Total Tasks</h3>
        <div class="value">{{ stats.totalActive }}</div>
    </div>
    <div class="card stat-card">
        <h3>Created</h3>
        <div class="value text-created">{{ stats.created }}</div>
    </div>
    <div class="card stat-card">
        <h3>In Progress</h3>
        <div class="value text-inprogress">{{ stats.inProgress }}</div>
    </div>
    <div class="card stat-card">
        <h3>Completed</h3>
        <div class="value text-completed">{{ stats.completed }}</div>
    </div>
    <div class="card stat-card" *ngIf="false">
        <h3>Overdue</h3>
        <div class="value text-danger">{{ stats.overdue }}</div>
    </div>
</div>

<div class="charts-section mt-4" *ngIf="stats$() as stats">
    <div class="card chart-card">
        <h3>Status Distribution</h3>
        <div class="donut-chart" [style]="getDonutGradient(stats)">
            <div class="hole"></div>
        </div>
        <div class="legend">
            <div class="legend-item"><span class="dot created"></span> Created</div>
            <div class="legend-item"><span class="dot inprogress"></span> In Progress</div>
            <div class="legend-item"><span class="dot completed"></span> Completed</div>
        </div>
    </div>
</div>

<ng-template #loading>
    <p>Loading stats...</p>
</ng-template>